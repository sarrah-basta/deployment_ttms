{"ast":null,"code":"var _jsxFileName = \"/home/sarrah/1_data/college/wim_final_project_git/TimeTableManagementSystem_Github/src/components/TimeTable/TimeTableSelect.js\";\nimport React, { useEffect } from 'react';\nimport { Button, Form, FormGroup, Label, Input, FormText } from 'reactstrap';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport axios from 'axios';\nexport default function TimeTableSelect() {\n  const [dept, setDept] = React.useState([]);\n  const [course, setCourse] = React.useState([]);\n  const [deptVal, setDepVal] = React.useState('DEFAULT');\n  const [courseVal, setCourseVal] = React.useState('DEFAULT');\n  useEffect(() => {\n    const getData = async () => {\n      const query = \"Select name from Department\";\n      return axios.post(`http://localhost:8080/api/query`, query).then(res => {\n        if (res.data.code === 200) {\n          setDept(res.data.data);\n        } else {\n          console.log(res.data.message);\n        }\n      }).catch(err => {\n        console.error(err);\n      });\n    };\n\n    getData();\n    console.log(\"dept selected--\", deptVal);\n\n    if (deptVal !== 'DEFAULT') {\n      const Data = async () => {\n        await axios.post(`http://localhost:8080/api/query/dept`, deptVal).then(res => {\n          if (res.data.code === 200) {\n            setCourse(res.data.data);\n            console.log('response mesage', res.data.data);\n          } else {\n            console.log(res.data.message);\n          }\n        }).catch(err => {\n          console.error(err);\n        });\n      };\n\n      Data();\n    }\n  }, [deptVal]);\n  console.log('dept', dept, 'COURSE', course);\n\n  const submitform = e => {\n    e.preventDefault();\n    let data = {\n      day: document.getElementById('day').value,\n      slot: parseInt(document.getElementById('slot').value),\n      dept_name: deptVal,\n      course_name: courseVal,\n      section: document.getElementById('sec').value,\n      Semester: document.getElementById('sem').value\n    };\n    axios.post(`http://localhost:8080/api/timetable`, data).then(res => {\n      if (res.data.code === 200) {\n        console.log('inserted into Time_table table');\n        alert('inserted into Time_table table');\n      } else {\n        console.log(res.data.message);\n        alert('Error: This slot is taken!!!');\n      }\n    }).catch(err => {\n      console.error(err);\n    });\n  };\n\n  const dropdownChanged = e => {\n    setDepVal(e.target.value);\n  };\n\n  const dropdownChanged1 = e => {\n    setCourseVal(e.target.value);\n  };\n\n  return /*#__PURE__*/React.createElement(Form, {\n    id: \"form1\",\n    onSubmit: submitform,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"legend\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 9\n    }\n  }, \"DAY\"), /*#__PURE__*/React.createElement(Input, {\n    type: \"select\",\n    name: \"day\",\n    id: \"day\",\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    disabled: true,\n    selected: true,\n    value: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 13\n    }\n  }, \" -- select an option -- \"), /*#__PURE__*/React.createElement(\"option\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 13\n    }\n  }, \"Monday\"), /*#__PURE__*/React.createElement(\"option\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 13\n    }\n  }, \"Tuesday\"), /*#__PURE__*/React.createElement(\"option\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 13\n    }\n  }, \"Wednesday\"), /*#__PURE__*/React.createElement(\"option\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 13\n    }\n  }, \"Thursday\"), /*#__PURE__*/React.createElement(\"option\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 13\n    }\n  }, \"Friday\"))), /*#__PURE__*/React.createElement(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"legend\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 9\n    }\n  }, \"SLOT\"), /*#__PURE__*/React.createElement(Input, {\n    type: \"select\",\n    name: \"slot\",\n    id: \"slot\",\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    disabled: true,\n    selected: true,\n    value: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 13\n    }\n  }, \" -- select an option -- \"), /*#__PURE__*/React.createElement(\"option\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 13\n    }\n  }, \"1\"), /*#__PURE__*/React.createElement(\"option\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 13\n    }\n  }, \"2\"), /*#__PURE__*/React.createElement(\"option\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 13\n    }\n  }, \"3\"), /*#__PURE__*/React.createElement(\"option\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 13\n    }\n  }, \"4\"), /*#__PURE__*/React.createElement(\"option\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 13\n    }\n  }, \"5\"), /*#__PURE__*/React.createElement(\"option\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 13\n    }\n  }, \"6\"))), /*#__PURE__*/React.createElement(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"legend\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 9\n    }\n  }, \"DEPARTMENT\"), /*#__PURE__*/React.createElement(\"select\", {\n    class: \"form-control\",\n    id: \"dept\",\n    value: deptVal,\n    onChange: dropdownChanged,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    disabled: true,\n    value: \"DEFAULT\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 13\n    }\n  }, \" -- select an option -- \"), dept.map(d => /*#__PURE__*/React.createElement(\"option\", {\n    key: d.name,\n    value: d.name,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 17\n    }\n  }, d.name)), \";\")), /*#__PURE__*/React.createElement(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"legend\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 9\n    }\n  }, \"SUBJECT\"), /*#__PURE__*/React.createElement(\"select\", {\n    class: \"form-control\",\n    id: \"sub\",\n    value: courseVal,\n    onChange: dropdownChanged1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    disabled: true,\n    value: \"DEFAULT\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 13\n    }\n  }, \" -- select an option -- \"), course.map(d => /*#__PURE__*/React.createElement(\"option\", {\n    key: d.course_name,\n    value: d.course_name,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 17\n    }\n  }, d.course_name)), \";\")), /*#__PURE__*/React.createElement(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"legend\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 7\n    }\n  }, \"SECTION\"), /*#__PURE__*/React.createElement(Input, {\n    type: \"select\",\n    name: \"sec\",\n    id: \"sec\",\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    disabled: true,\n    selected: true,\n    value: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 11\n    }\n  }, \" -- select an option -- \"), /*#__PURE__*/React.createElement(\"option\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 11\n    }\n  }, \"A\"), /*#__PURE__*/React.createElement(\"option\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 11\n    }\n  }, \"B\"), /*#__PURE__*/React.createElement(\"option\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 11\n    }\n  }, \"C\"), /*#__PURE__*/React.createElement(\"option\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 11\n    }\n  }, \"D\"))), /*#__PURE__*/React.createElement(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"legend\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 9\n    }\n  }, \"SEMESTER\"), /*#__PURE__*/React.createElement(Input, {\n    type: \"select\",\n    name: \"sem\",\n    id: \"sem\",\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    disabled: true,\n    selected: true,\n    value: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 13\n    }\n  }, \" -- select an option -- \"), /*#__PURE__*/React.createElement(\"option\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 13\n    }\n  }, \"1\"), /*#__PURE__*/React.createElement(\"option\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 13\n    }\n  }, \"2\"), /*#__PURE__*/React.createElement(\"option\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 13\n    }\n  }, \"3\"), /*#__PURE__*/React.createElement(\"option\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 13\n    }\n  }, \"4\"), /*#__PURE__*/React.createElement(\"option\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 13\n    }\n  }, \"5\"), /*#__PURE__*/React.createElement(\"option\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 13\n    }\n  }, \"6\"), /*#__PURE__*/React.createElement(\"option\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 13\n    }\n  }, \"7\"), /*#__PURE__*/React.createElement(\"option\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 13\n    }\n  }, \"8\"))), /*#__PURE__*/React.createElement(Button, {\n    outline: true,\n    color: \"success\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 5\n    }\n  }, \"Submit\"));\n}","map":{"version":3,"sources":["/home/sarrah/1_data/college/wim_final_project_git/TimeTableManagementSystem_Github/src/components/TimeTable/TimeTableSelect.js"],"names":["React","useEffect","Button","Form","FormGroup","Label","Input","FormText","axios","TimeTableSelect","dept","setDept","useState","course","setCourse","deptVal","setDepVal","courseVal","setCourseVal","getData","query","post","then","res","data","code","console","log","message","catch","err","error","Data","submitform","e","preventDefault","day","document","getElementById","value","slot","parseInt","dept_name","course_name","section","Semester","alert","dropdownChanged","target","dropdownChanged1","map","d","name"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react';\r\nimport { Button, Form, FormGroup, Label, Input, FormText } from 'reactstrap';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport axios from 'axios';\r\n\r\nexport default function TimeTableSelect() {\r\n    const [dept, setDept] = React.useState([]);\r\n    const [course, setCourse] = React.useState([]);\r\n    const [deptVal ,setDepVal] = React.useState('DEFAULT');\r\n    const [courseVal ,setCourseVal] = React.useState('DEFAULT');\r\n\r\n    useEffect(() => {\r\n        const getData = async () => {\r\n            const query = \"Select name from Department\"\r\n            return axios\r\n            .post(`http://localhost:8080/api/query`,query)\r\n            .then((res) => {\r\n              if (res.data.code === 200){\r\n                setDept (res.data.data);\r\n              } else {\r\n                console.log(res.data.message)\r\n              }\r\n            })\r\n            .catch(err => {\r\n              console.error(err);\r\n            });\r\n        }\r\n        getData();\r\n        console.log(\"dept selected--\",deptVal)\r\n        \r\n        if (deptVal !== 'DEFAULT') {\r\n            const Data = async () => {\r\n                await axios\r\n                .post(`http://localhost:8080/api/query/dept`,deptVal)\r\n                .then((res) => {\r\n                  if (res.data.code === 200){\r\n                    setCourse(res.data.data);\r\n                    console.log('response mesage', res.data.data);\r\n                  } else {\r\n                    console.log(res.data.message)\r\n                  }\r\n                })\r\n                .catch(err => {\r\n                  console.error(err);\r\n                });\r\n            }\r\n            Data();\r\n        }\r\n    }, [deptVal]);\r\n    console.log('dept',dept,'COURSE',course);\r\n\r\n    const submitform = (e) => {\r\n        e.preventDefault();\r\n        let data = {\r\n            day : document.getElementById('day').value,\r\n            slot: parseInt(document.getElementById('slot').value),\r\n            dept_name : deptVal,\r\n            course_name : courseVal,\r\n            section : document.getElementById('sec').value,\r\n            Semester: document.getElementById('sem').value\r\n        }\r\n        \r\n        axios\r\n            .post(`http://localhost:8080/api/timetable`,data)\r\n            .then((res) => {\r\n              if (res.data.code === 200){\r\n                  console.log('inserted into Time_table table');\r\n                  alert('inserted into Time_table table');\r\n              } else {\r\n                console.log(res.data.message);\r\n                alert('Error: This slot is taken!!!');\r\n              }\r\n            })\r\n            .catch(err => {\r\n              console.error(err);\r\n            });\r\n    }\r\n\r\n    const dropdownChanged =(e) => {\r\n        setDepVal(e.target.value)\r\n    }\r\n    const dropdownChanged1 =(e) => {\r\n        setCourseVal(e.target.value)\r\n    }\r\n\r\n  return (\r\n    <Form id='form1' onSubmit={submitform}>\r\n    <FormGroup>\r\n        <legend>DAY</legend>\r\n        <Input type=\"select\" name=\"day\" id=\"day\" required>\r\n            <option disabled selected value> -- select an option -- </option>\r\n            <option>Monday</option>\r\n            <option>Tuesday</option>\r\n            <option>Wednesday</option>\r\n            <option>Thursday</option>\r\n            <option>Friday</option>\r\n        </Input>\r\n    </FormGroup>\r\n    <FormGroup>\r\n        <legend>SLOT</legend>\r\n        <Input type=\"select\" name=\"slot\" id=\"slot\" required>\r\n            <option disabled selected value> -- select an option -- </option>\r\n            <option>1</option>\r\n            <option>2</option>\r\n            <option>3</option>\r\n            <option>4</option>\r\n            <option>5</option>\r\n            <option>6</option>\r\n        </Input>\r\n    </FormGroup>\r\n    <FormGroup>\r\n        <legend>DEPARTMENT</legend>\r\n        <select class=\"form-control\" id=\"dept\" value={deptVal} onChange={dropdownChanged}>\r\n            <option disabled value='DEFAULT'> -- select an option -- </option>\r\n            {dept.map(d =>\r\n                <option key={d.name} value={d.name}>{d.name}</option>\r\n            )};\r\n        </select>\r\n    </FormGroup>\r\n    <FormGroup>\r\n        <legend>SUBJECT</legend>\r\n        <select class=\"form-control\" id=\"sub\" value={courseVal} onChange={dropdownChanged1}>\r\n            <option disabled value='DEFAULT'> -- select an option -- </option>\r\n            {course.map(d =>\r\n                <option key={d.course_name} value={d.course_name}>{d.course_name}</option>\r\n            )};\r\n        </select>\r\n    </FormGroup>\r\n    <FormGroup>\r\n      <legend>SECTION</legend>\r\n        <Input type=\"select\" name=\"sec\" id=\"sec\" required>\r\n          <option disabled selected value> -- select an option -- </option>\r\n          <option>A</option>\r\n          <option>B</option>\r\n          <option>C</option>\r\n          <option>D</option>\r\n        </Input>\r\n      </FormGroup>\r\n      <FormGroup>\r\n        <legend>SEMESTER</legend>\r\n        <Input type=\"select\" name=\"sem\" id=\"sem\" required>\r\n            <option disabled selected value> -- select an option -- </option>\r\n            <option>1</option>\r\n            <option>2</option>\r\n            <option>3</option>\r\n            <option>4</option>\r\n            <option>5</option>\r\n            <option>6</option>\r\n            <option>7</option>\r\n            <option>8</option>\r\n        </Input>\r\n    </FormGroup>\r\n    <Button outline color=\"success\">Submit</Button>\r\n    </Form>\r\n  );\r\n}\r\n\r\n "]},"metadata":{},"sourceType":"module"}