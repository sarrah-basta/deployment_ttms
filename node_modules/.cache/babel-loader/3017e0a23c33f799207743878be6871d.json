{"ast":null,"code":"var _jsxFileName = \"/home/sarrah/Downloads/Group No-07-20220819T110136Z-001 (1)/Group No-07/G7_Time_Table_Management_System/TimeTableManagementSystem/src/components/Graph.js\";\nimport React, { useEffect } from 'react';\nimport { Bar, Pie } from 'react-chartjs-2';\nimport axios from 'axios';\nexport default function Graph() {\n  const [flag, setFlag] = React.useState(0);\n  useEffect(() => {\n    setFlag(0);\n    axios.post(`http://localhost:8082/api/stats`).then(res => {\n      if (res.data.code === 200) {\n        let record = [];\n\n        for (let i = 0; i < res.data.data.length; i += 1) {\n          record.push(Object.values(res.data.data[i][0])[0]);\n        }\n\n        setRecords(record);\n      } else {\n        console.log(res.data.message);\n      }\n    }).catch(err => {\n      console.error(err);\n    });\n    axios.post(`http://localhost:8082/api/stats1`).then(res => {\n      if (res.data.code === 200) {\n        let record = [];\n\n        for (let i = 0; i < res.data.data.length; i += 1) {\n          record.push(Object.values(res.data.data[i][0])[0]);\n        }\n\n        setRecords1(record);\n      } else {\n        console.log(res.data.message);\n      }\n    }).catch(err => {\n      console.error(err);\n    }).finally(() => {\n      setFlag(1);\n    });\n  }, []);\n  const [records, setRecords] = React.useState([]);\n  const [records1, setRecords1] = React.useState([]);\n  var data = {\n    labels: ['Student', 'Faculty', 'Department', 'Laboratory', 'Course'],\n    datasets: [{\n      label: 'Distribution across Tables',\n      data: records,\n      backgroundColor: ['rgba(255, 99, 132, 0.2)', 'rgba(54, 162, 235, 0.2)', 'rgba(255, 206, 86, 0.2)', 'rgba(153, 102, 255, 0.2)', 'rgba(255, 159, 64, 0.2)'],\n      borderColor: ['rgba(255, 99, 132, 1)', 'rgba(54, 162, 235, 1)', 'rgba(255, 206, 86, 1)', 'rgba(153, 102, 255, 1)', 'rgba(255, 159, 64, 1)'],\n      borderWidth: 1\n    }]\n  };\n  var data1 = {\n    labels: ['CSE', 'ECE', 'CIVIL', 'MECH', 'EIE'],\n    datasets: [{\n      label: 'Distribution across Tables',\n      data: records1,\n      backgroundColor: ['rgba(255, 99, 132, 1)', 'rgba(54, 162, 235, 1)', 'rgba(255, 206, 86, 1)', 'rgba(153, 102, 255, 1)', 'rgba(255, 159, 64, 1)'],\n      borderColor: ['rgba(255, 99, 132, 1)', 'rgba(54, 162, 235, 1)', 'rgba(255, 206, 86, 1)', 'rgba(153, 102, 255, 1)', 'rgba(255, 159, 64, 1)'],\n      borderWidth: 1\n    }]\n  };\n  const options = {\n    scales: {\n      yAxes: [{\n        ticks: {\n          beginAtZero: true\n        }\n      }]\n    }\n  };\n  console.log(\"falg value\", flag);\n  return flag === 1 ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Bar, {\n    data: data,\n    options: options,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"hr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"hr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"hr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Pie, {\n    data: data1,\n    options: options,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 13\n    }\n  })) : /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 15\n    }\n  }, \"Loading data's\");\n}","map":{"version":3,"sources":["/home/sarrah/Downloads/Group No-07-20220819T110136Z-001 (1)/Group No-07/G7_Time_Table_Management_System/TimeTableManagementSystem/src/components/Graph.js"],"names":["React","useEffect","Bar","Pie","axios","Graph","flag","setFlag","useState","post","then","res","data","code","record","i","length","push","Object","values","setRecords","console","log","message","catch","err","error","setRecords1","finally","records","records1","labels","datasets","label","backgroundColor","borderColor","borderWidth","data1","options","scales","yAxes","ticks","beginAtZero"],"mappings":"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","sourcesContent":["import React, {useEffect} from 'react'\r\nimport { Bar, Pie } from 'react-chartjs-2';\r\nimport axios from 'axios';\r\n\r\nexport default function Graph() {\r\n\r\n    const [flag, setFlag] = React.useState(0);\r\n    \r\n    useEffect(() => {\r\n        setFlag(0);\r\n        axios\r\n        .post(`http://localhost:8082/api/stats`)\r\n        .then((res) => {\r\n          if (res.data.code === 200){\r\n              let record =[];\r\n            for (let i = 0; i<((res.data.data).length); i+=1) {\r\n                record.push(Object.values(res.data.data[i][0])[0]);\r\n            }\r\n            setRecords(record);\r\n          } else {\r\n            console.log(res.data.message)\r\n          }\r\n        })\r\n        .catch(err => {\r\n          console.error(err);\r\n        })\r\n        axios\r\n        .post(`http://localhost:8082/api/stats1`)\r\n        .then((res) => {\r\n          if (res.data.code === 200){\r\n              let record =[];\r\n            for (let i = 0; i<((res.data.data).length); i+=1) {\r\n                record.push(Object.values(res.data.data[i][0])[0]);\r\n            }\r\n            setRecords1(record);\r\n          } else {\r\n            console.log(res.data.message)\r\n          }\r\n        })\r\n        .catch(err => {\r\n          console.error(err);\r\n        }).finally(() => {\r\n            setFlag(1);\r\n        })\r\n    }, [])\r\n\r\n    const [records, setRecords] = React.useState([]);\r\n    const [records1, setRecords1] = React.useState([]);\r\n    var data = {\r\n        labels: ['Student', 'Faculty', 'Department', 'Laboratory', 'Course'],\r\n        datasets: [\r\n          {\r\n            label: 'Distribution across Tables',\r\n            data: records,\r\n            backgroundColor: [\r\n              'rgba(255, 99, 132, 0.2)',\r\n              'rgba(54, 162, 235, 0.2)',\r\n              'rgba(255, 206, 86, 0.2)',\r\n              'rgba(153, 102, 255, 0.2)',\r\n              'rgba(255, 159, 64, 0.2)',\r\n            ],\r\n            borderColor: [\r\n              'rgba(255, 99, 132, 1)',\r\n              'rgba(54, 162, 235, 1)',\r\n              'rgba(255, 206, 86, 1)',\r\n              'rgba(153, 102, 255, 1)',\r\n              'rgba(255, 159, 64, 1)',\r\n            ],\r\n            borderWidth: 1,\r\n          },\r\n        ],\r\n      }\r\n\r\n      var data1 = {\r\n        labels: ['CSE', 'ECE', 'CIVIL', 'MECH', 'EIE'],\r\n        datasets: [\r\n          {\r\n            label: 'Distribution across Tables',\r\n            data: records1,\r\n            backgroundColor: [\r\n                'rgba(255, 99, 132, 1)',\r\n                'rgba(54, 162, 235, 1)',\r\n                'rgba(255, 206, 86, 1)',\r\n                'rgba(153, 102, 255, 1)',\r\n                'rgba(255, 159, 64, 1)',\r\n              ],\r\n            borderColor: [\r\n              'rgba(255, 99, 132, 1)',\r\n              'rgba(54, 162, 235, 1)',\r\n              'rgba(255, 206, 86, 1)',\r\n              'rgba(153, 102, 255, 1)',\r\n              'rgba(255, 159, 64, 1)',\r\n            ],\r\n            borderWidth: 1,\r\n          },\r\n        ],\r\n      }\r\n    \r\n      const options = {\r\n        scales: {\r\n          yAxes: [\r\n            {\r\n              ticks: {\r\n                beginAtZero: true,\r\n              },\r\n            },\r\n          ],\r\n        },\r\n      }\r\n    console.log(\"falg value\",flag);\r\n    return (\r\n        flag === 1 ?\r\n        <>\r\n            <Bar data={data} options={options} />\r\n            <hr></hr>\r\n            <hr></hr>\r\n            <hr></hr>\r\n            <Pie data={data1} options={options} />\r\n        </> : <div>Loading data's</div>\r\n    )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}