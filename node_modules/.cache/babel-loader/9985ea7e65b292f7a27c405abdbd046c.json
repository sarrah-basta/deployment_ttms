{"ast":null,"code":"var _jsxFileName = \"/home/sarrah/1_data/college/se project/TimeTableManagementSystem/src/components/Table.js\";\nimport React, { useEffect } from 'react';\nimport MaterialTable from 'material-table';\nimport TableData from './LandingPage/tabledata';\nimport axios from 'axios';\nimport ReactLoading from \"react-loading\";\nimport \"bootstrap/dist/css/bootstrap.css\";\nimport { forwardRef } from 'react';\nimport AddBox from '@material-ui/icons/AddBox';\nimport ArrowDownward from '@material-ui/icons/ArrowDownward';\nimport Check from '@material-ui/icons/Check';\nimport ChevronLeft from '@material-ui/icons/ChevronLeft';\nimport ChevronRight from '@material-ui/icons/ChevronRight';\nimport Clear from '@material-ui/icons/Clear';\nimport DeleteOutline from '@material-ui/icons/DeleteOutline';\nimport Edit from '@material-ui/icons/Edit';\nimport FilterList from '@material-ui/icons/FilterList';\nimport FirstPage from '@material-ui/icons/FirstPage';\nimport LastPage from '@material-ui/icons/LastPage';\nimport Remove from '@material-ui/icons/Remove';\nimport SaveAlt from '@material-ui/icons/SaveAlt';\nimport Search from '@material-ui/icons/Search';\nimport ViewColumn from '@material-ui/icons/ViewColumn';\nconst tableIcons = {\n  Add: forwardRef((props, ref) => /*#__PURE__*/React.createElement(AddBox, Object.assign({}, props, {\n    ref: ref,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 37\n    }\n  }))),\n  Check: forwardRef((props, ref) => /*#__PURE__*/React.createElement(Check, Object.assign({}, props, {\n    ref: ref,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 39\n    }\n  }))),\n  Clear: forwardRef((props, ref) => /*#__PURE__*/React.createElement(Clear, Object.assign({}, props, {\n    ref: ref,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 39\n    }\n  }))),\n  Delete: forwardRef((props, ref) => /*#__PURE__*/React.createElement(DeleteOutline, Object.assign({}, props, {\n    ref: ref,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 40\n    }\n  }))),\n  DetailPanel: forwardRef((props, ref) => /*#__PURE__*/React.createElement(ChevronRight, Object.assign({}, props, {\n    ref: ref,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 45\n    }\n  }))),\n  Edit: forwardRef((props, ref) => /*#__PURE__*/React.createElement(Edit, Object.assign({}, props, {\n    ref: ref,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 38\n    }\n  }))),\n  Export: forwardRef((props, ref) => /*#__PURE__*/React.createElement(SaveAlt, Object.assign({}, props, {\n    ref: ref,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 40\n    }\n  }))),\n  Filter: forwardRef((props, ref) => /*#__PURE__*/React.createElement(FilterList, Object.assign({}, props, {\n    ref: ref,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 40\n    }\n  }))),\n  FirstPage: forwardRef((props, ref) => /*#__PURE__*/React.createElement(FirstPage, Object.assign({}, props, {\n    ref: ref,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 43\n    }\n  }))),\n  LastPage: forwardRef((props, ref) => /*#__PURE__*/React.createElement(LastPage, Object.assign({}, props, {\n    ref: ref,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 42\n    }\n  }))),\n  NextPage: forwardRef((props, ref) => /*#__PURE__*/React.createElement(ChevronRight, Object.assign({}, props, {\n    ref: ref,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 42\n    }\n  }))),\n  PreviousPage: forwardRef((props, ref) => /*#__PURE__*/React.createElement(ChevronLeft, Object.assign({}, props, {\n    ref: ref,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 46\n    }\n  }))),\n  ResetSearch: forwardRef((props, ref) => /*#__PURE__*/React.createElement(Clear, Object.assign({}, props, {\n    ref: ref,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 45\n    }\n  }))),\n  Search: forwardRef((props, ref) => /*#__PURE__*/React.createElement(Search, Object.assign({}, props, {\n    ref: ref,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 40\n    }\n  }))),\n  SortArrow: forwardRef((props, ref) => /*#__PURE__*/React.createElement(ArrowDownward, Object.assign({}, props, {\n    ref: ref,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 43\n    }\n  }))),\n  ThirdStateCheck: forwardRef((props, ref) => /*#__PURE__*/React.createElement(Remove, Object.assign({}, props, {\n    ref: ref,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 49\n    }\n  }))),\n  ViewColumn: forwardRef((props, ref) => /*#__PURE__*/React.createElement(ViewColumn, Object.assign({}, props, {\n    ref: ref,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 44\n    }\n  })))\n};\nexport default function MaterialTableDemo(props) {\n  const {\n    active\n  } = props; //function to access the nested object by string literals\n\n  Object.byString = function (o, s) {\n    s = s.replace(/\\[(\\w+)\\]/g, '.$1'); // convert indexes to properties\n\n    s = s.replace(/^\\./, ''); // strip a leading dot\n\n    var a = s.split('.');\n\n    for (var i = 0, n = a.length; i < n; ++i) {\n      var k = a[i];\n\n      if (k in o) {\n        o = o[k];\n      } else {\n        return;\n      }\n    }\n\n    return o;\n  };\n\n  var temp = Object.byString(TableData, active);\n  const [tableKey, setTableKey] = React.useState(0);\n  useEffect(() => {\n    setTimeout(() => {\n      const getData = async () => {\n        setTableKey(0);\n        await axios.post(`http://localhost:8080/api/getdata/${active}`).then(res => {\n          if (res.data.code === 200) {\n            temp.data = res.data.content;\n          } else {\n            console.log(active, res.data.message);\n          }\n        }).catch(err => {\n          console.error(err);\n        });\n        setState(temp);\n        setTableKey(1);\n        console.log('state', state);\n      };\n\n      getData();\n    }, 1200);\n  }, [temp]);\n  const [state, setState] = React.useState(temp);\n  const tableName = active + \" \" + \"Information\";\n\n  const insert = props => {\n    axios.post(`http://localhost:8080/api/insert/${active}`, props).then(res => {\n      if (res.data.code === 200) {\n        console.log(res.data.message);\n      } else {\n        console.log(res.data.message);\n      }\n    }).catch(err => {\n      console.error(err);\n    });\n    return props;\n  };\n\n  const deleteRow = props => {\n    var data = [];\n    data.push(props);\n    data.push(Object.keys(props));\n    axios.post(`http://localhost:8080/api/delete/${active}`, data).then(res => {\n      if (res.data.code === 200) {\n        console.log(res.data.message);\n      } else {\n        console.log(res.data.message);\n      }\n    }).catch(err => {\n      console.error(err);\n    });\n    return props;\n  };\n\n  const update = props => {\n    var data = [];\n    data.push(props);\n    data.push(Object.keys(props));\n    console.log('props', props, data);\n    axios.post(`http://localhost:8080/api/update/${active}`, data).then(res => {\n      if (res.data.code === 200) {\n        console.log(res.data.message);\n      } else {\n        console.log(res.data.message);\n      }\n    }).catch(err => {\n      console.error(err);\n    });\n    return props;\n  };\n\n  return tableKey === 1 ? /*#__PURE__*/React.createElement(MaterialTable, {\n    icons: tableIcons,\n    title: tableName,\n    columns: state.columns,\n    data: state.data,\n    editable: {\n      onRowAdd: newData => new Promise(resolve => {\n        setTimeout(() => {\n          resolve();\n          setState(prevState => {\n            const data = [...prevState.data];\n            data.push(insert(newData));\n            return { ...prevState,\n              data\n            };\n          });\n        }, 600);\n      }),\n      onRowUpdate: (newData, oldData) => new Promise(resolve => {\n        setTimeout(() => {\n          resolve();\n\n          if (oldData) {\n            setState(prevState => {\n              const data = [...prevState.data];\n              data[data.indexOf(oldData)] = update(newData);\n              return { ...prevState,\n                data\n              };\n            });\n          }\n        }, 600);\n      }),\n      onRowDelete: oldData => new Promise(resolve => {\n        setTimeout(() => {\n          resolve();\n          setState(prevState => {\n            const data = [...prevState.data];\n            data.splice(data.indexOf(deleteRow(oldData)), 1);\n            return { ...prevState,\n              data\n            };\n          });\n        }, 600);\n      })\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 5\n    }\n  }) : /*#__PURE__*/React.createElement(ReactLoading, {\n    type: \"bubbles\",\n    color: \"#16a596\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 10\n    }\n  });\n}","map":{"version":3,"sources":["/home/sarrah/1_data/college/se project/TimeTableManagementSystem/src/components/Table.js"],"names":["React","useEffect","MaterialTable","TableData","axios","ReactLoading","forwardRef","AddBox","ArrowDownward","Check","ChevronLeft","ChevronRight","Clear","DeleteOutline","Edit","FilterList","FirstPage","LastPage","Remove","SaveAlt","Search","ViewColumn","tableIcons","Add","props","ref","Delete","DetailPanel","Export","Filter","NextPage","PreviousPage","ResetSearch","SortArrow","ThirdStateCheck","MaterialTableDemo","active","Object","byString","o","s","replace","a","split","i","n","length","k","temp","tableKey","setTableKey","useState","setTimeout","getData","post","then","res","data","code","content","console","log","message","catch","err","error","setState","state","tableName","insert","deleteRow","push","keys","update","columns","onRowAdd","newData","Promise","resolve","prevState","onRowUpdate","oldData","indexOf","onRowDelete","splice"],"mappings":"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","sourcesContent":["import React,{ useEffect } from 'react';\r\nimport MaterialTable from 'material-table';\r\nimport TableData from './LandingPage/tabledata';\r\nimport axios from 'axios';\r\nimport ReactLoading from \"react-loading\";\r\nimport \"bootstrap/dist/css/bootstrap.css\";\r\n\r\nimport { forwardRef } from 'react';\r\n\r\nimport AddBox from '@material-ui/icons/AddBox';\r\nimport ArrowDownward from '@material-ui/icons/ArrowDownward';\r\nimport Check from '@material-ui/icons/Check';\r\nimport ChevronLeft from '@material-ui/icons/ChevronLeft';\r\nimport ChevronRight from '@material-ui/icons/ChevronRight';\r\nimport Clear from '@material-ui/icons/Clear';\r\nimport DeleteOutline from '@material-ui/icons/DeleteOutline';\r\nimport Edit from '@material-ui/icons/Edit';\r\nimport FilterList from '@material-ui/icons/FilterList';\r\nimport FirstPage from '@material-ui/icons/FirstPage';\r\nimport LastPage from '@material-ui/icons/LastPage';\r\nimport Remove from '@material-ui/icons/Remove';\r\nimport SaveAlt from '@material-ui/icons/SaveAlt';\r\nimport Search from '@material-ui/icons/Search';\r\nimport ViewColumn from '@material-ui/icons/ViewColumn';\r\n\r\nconst tableIcons = {\r\n    Add: forwardRef((props, ref) => <AddBox {...props} ref={ref} />),\r\n    Check: forwardRef((props, ref) => <Check {...props} ref={ref} />),\r\n    Clear: forwardRef((props, ref) => <Clear {...props} ref={ref} />),\r\n    Delete: forwardRef((props, ref) => <DeleteOutline {...props} ref={ref} />),\r\n    DetailPanel: forwardRef((props, ref) => <ChevronRight {...props} ref={ref} />),\r\n    Edit: forwardRef((props, ref) => <Edit {...props} ref={ref} />),\r\n    Export: forwardRef((props, ref) => <SaveAlt {...props} ref={ref} />),\r\n    Filter: forwardRef((props, ref) => <FilterList {...props} ref={ref} />),\r\n    FirstPage: forwardRef((props, ref) => <FirstPage {...props} ref={ref} />),\r\n    LastPage: forwardRef((props, ref) => <LastPage {...props} ref={ref} />),\r\n    NextPage: forwardRef((props, ref) => <ChevronRight {...props} ref={ref} />),\r\n    PreviousPage: forwardRef((props, ref) => <ChevronLeft {...props} ref={ref} />),\r\n    ResetSearch: forwardRef((props, ref) => <Clear {...props} ref={ref} />),\r\n    Search: forwardRef((props, ref) => <Search {...props} ref={ref} />),\r\n    SortArrow: forwardRef((props, ref) => <ArrowDownward {...props} ref={ref} />),\r\n    ThirdStateCheck: forwardRef((props, ref) => <Remove {...props} ref={ref} />),\r\n    ViewColumn: forwardRef((props, ref) => <ViewColumn {...props} ref={ref} />)\r\n  };\r\n\r\nexport default function MaterialTableDemo(props) {\r\n\r\n  const { active } = props;\r\n\r\n  //function to access the nested object by string literals\r\n  Object.byString = function(o, s) {\r\n    s = s.replace(/\\[(\\w+)\\]/g, '.$1'); // convert indexes to properties\r\n    s = s.replace(/^\\./, '');           // strip a leading dot\r\n    var a = s.split('.');\r\n    for (var i = 0, n = a.length; i < n; ++i) {\r\n        var k = a[i];\r\n        if (k in o) {\r\n            o = o[k];\r\n        } else {\r\n            return;\r\n        }\r\n    }\r\n    return o;\r\n  }\r\n\r\n  var temp = Object.byString(TableData,active)\r\n  const [tableKey, setTableKey] = React.useState(0);\r\n  \r\n\r\n  useEffect(() => {\r\n    setTimeout(() => {\r\n      const getData = async () => {\r\n        setTableKey(0);\r\n        await axios\r\n        .post(`http://localhost:8080/api/getdata/${active}`)\r\n        .then((res) => {\r\n          if (res.data.code === 200){\r\n            temp.data = res.data.content\r\n          } else {\r\n            console.log(active,res.data.message)\r\n          }\r\n        })\r\n        .catch(err => {\r\n          console.error(err);\r\n        });\r\n        setState(temp);\r\n        setTableKey(1);\r\n        console.log('state',state);\r\n      }\r\n      getData();\r\n    },1200);\r\n  }, [temp]);\r\n\r\n  \r\n  const [state, setState] = React.useState(temp);\r\n  \r\n\r\n  const tableName = active+\" \"+\"Information\";\r\n\r\n  const insert = (props) => {\r\n    axios\r\n      .post(`http://localhost:8080/api/insert/${active}`,props)\r\n      .then((res) => {\r\n        if (res.data.code === 200){\r\n          console.log(res.data.message);\r\n        } else {\r\n          console.log(res.data.message);\r\n        }\r\n      })\r\n      .catch(err => {\r\n        console.error(err);\r\n      });\r\n    return props;\r\n  }\r\n\r\n  const deleteRow = (props) => {\r\n    var data = [];\r\n    data.push(props);\r\n    data.push(Object.keys(props));\r\n    axios\r\n      .post(`http://localhost:8080/api/delete/${active}`,data)\r\n      .then((res) => {\r\n        if (res.data.code === 200){\r\n          console.log(res.data.message);\r\n        } else {\r\n          console.log(res.data.message);\r\n        }\r\n      })\r\n      .catch(err => {\r\n        console.error(err);\r\n      });\r\n    return props;\r\n  }\r\n\r\n  const update = (props) => {\r\n    var data = [];\r\n    \r\n    data.push(props);\r\n    data.push(Object.keys(props));\r\n    console.log('props', props,data);\r\n    axios\r\n      .post(`http://localhost:8080/api/update/${active}`,data)\r\n      .then((res) => {\r\n        if (res.data.code === 200){\r\n          console.log(res.data.message);\r\n        } else {\r\n          console.log(res.data.message);\r\n        }\r\n      })\r\n      .catch(err => {\r\n        console.error(err);\r\n      });\r\n    return props;\r\n  }\r\n  return (\r\n    tableKey ===1 ? \r\n    <MaterialTable\r\n      icons={tableIcons}\r\n      title={tableName}\r\n      columns={state.columns}\r\n      data={state.data}\r\n      editable={{\r\n        onRowAdd: (newData) =>\r\n          new Promise((resolve) => {\r\n            setTimeout(() => {\r\n              resolve();\r\n              setState((prevState) => {\r\n                const data = [...prevState.data];\r\n                data.push(insert(newData));\r\n                return { ...prevState, data };\r\n              });\r\n            }, 600);\r\n          }),\r\n        onRowUpdate: (newData, oldData) =>\r\n          new Promise((resolve) => {\r\n            setTimeout(() => {\r\n              resolve();\r\n              if (oldData) {\r\n                setState((prevState) => {\r\n                  const data = [...prevState.data];\r\n                  data[data.indexOf(oldData)] = update(newData);\r\n                  return { ...prevState, data };\r\n                });\r\n              }\r\n            }, 600);\r\n          }),\r\n        onRowDelete: (oldData) =>\r\n          new Promise((resolve) => {\r\n            setTimeout(() => {\r\n              resolve();\r\n              setState((prevState) => {\r\n                const data = [...prevState.data];\r\n                data.splice(data.indexOf(deleteRow(oldData)), 1);\r\n                return { ...prevState, data };\r\n              });\r\n            }, 600);\r\n          }),\r\n      }}\r\n    /> : <ReactLoading type={\"bubbles\"} color={\"#16a596\"} />\r\n  ); \r\n}"]},"metadata":{},"sourceType":"module"}